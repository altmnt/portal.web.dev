{"version":3,"sources":["webpack:///./src/App.vue?ff4d","webpack:///src/App.vue","webpack:///./src/App.vue?a7d1","webpack:///./src/App.vue","webpack:///./src/store/profile.js","webpack:///./src/store/shopify-extracts.js","webpack:///./src/store/shopify-stores.js","webpack:///./src/store/index.js","webpack:///./src/App.vue?c0ea","webpack:///./src/auth/index.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticRenderFns","Appvue_type_script_lang_js_","name","src_Appvue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__","profile","namespaced","state","email","image","id","roles","mutations","FETCH_USER","user","base64image","actions","getProfile","_ref","commit","undefined","current","vue_esm","axios","get","then","response","data","catch","error","console","log","statusText","store_profile","extracts","products","items","orders","FETCH_PRODUCTS","FETCH_ORDERS","getExtracts","_getExtracts","asyncToGenerator","regeneratorRuntime","mark","_callee","payload","wrap","_context","prev","next","concat","type","take","skip","orderby","descending","sent","t0","abrupt","t1","stop","_x","_x2","apply","arguments","shopify_extracts","shopifyStores","stores","FETCH_STORES","getShopifyStores","shopify_stores","use","vuex_esm","store","Store","getters","modules","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n","oidc_client__WEBPACK_IMPORTED_MODULE_0__","config","authority","client_id","redirect_uri","silent_redirect_uri","response_type","scope","post_logout_redirect_uri","userStore","window","localStorage","automaticSilentRenew","mgr","events","addSilentRenewError","e","message","signinRedirect","redirectUrl","location","hash","err","logger","manager","getSessionState","self","Promise","resolve","reject","getUser","signIn","session_state","getAcessToken","access_token","signOut","signoutRedirect","resp"],"mappings":"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","file":"js/chunk-common.b01bc328.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('router-view')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <router-view></router-view>\n</template>\n\n<script>\nexport default {\n  name: 'app'\n}\n</script>\n\n<style lang=\"scss\">\n  // CoreUI Icons Set\n  @import '~@coreui/icons/css/coreui-icons.min.css';\n  /* Import Font Awesome Icons Set */\n  $fa-font-path: '~font-awesome/fonts/';\n  @import '~font-awesome/scss/font-awesome.scss';\n  /* Import Simple Line Icons Set */\n  $simple-line-font-path: '~simple-line-icons/fonts/';\n  @import '~simple-line-icons/scss/simple-line-icons.scss';\n  /* Import Flag Icons Set */\n  @import '~flag-icon-css/css/flag-icon.min.css';\n  /* Import Bootstrap Vue Styles */\n  @import '~bootstrap-vue/dist/bootstrap-vue.css';\n  // Import Main styles for this application\n  @import 'assets/scss/style';\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=9443d4e8&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"App.vue\"\nexport default component.exports","import Vue from 'vue'\n\nconst profile = {\n  namespaced: true,\n  state: {\n    email: '',\n    image: '',\n    id: '',\n    roles: []\n  },\n  mutations: {\n    FETCH_USER(state, user) {\n      state.id = user.id;\n      state.email = user.email;\n      state.image = user.base64image;\n      state.roles = user.roles;\n    }\n  },\n  actions: {\n    getProfile({ state, commit }) {\n      if (state.current === undefined) {\n        Vue.axios.get(process.env.VUE_APP_API_URL + 'profile/get')\n          .then((response) => {\n            commit('FETCH_USER', response.data)\n          })\n          .catch(error => {\n            console.log(error.statusText)\n          })\n      } else {\n        return commit('FETCH_USER', state.current)\n      }\n    }\n  }\n}\n\nexport default profile\n","import Vue from 'vue'\n\nconst extracts = {\n  namespaced: true,\n  state: {\n    products : {items:[]},\n    orders : {items:[]},\n  },\n  mutations: {\n    FETCH_PRODUCTS (state, extracts) {\n      state.products = extracts\n    },\n    FETCH_ORDERS (state, extracts) {\n      state.orders = extracts\n    }\n  },\n  actions: {\n    async getExtracts ({commit}, payload) {\n        try {\n          let response = await Vue.axios.get(process.env.VUE_APP_API_URL + `shopify/list-extracts/${payload.type}?take=${payload.take}&skip=${payload.skip}&orderby=${payload.orderby}&desc=${payload.descending}`);\n          switch(payload.type){\n            case 'Products':\n              commit('FETCH_PRODUCTS', response.data);\n              break;\n            case 'Orders':\n              commit('FETCH_ORDERS', response.data);\n              break;\n          }\n        }\n        catch(error) {\n            console.log(error.statusText);\n        }\n    }\n  }\n}\n\nexport default extracts\n","import Vue from 'vue'\n\nconst shopifyStores = {\n  namespaced: true,\n  state: {\n    stores:[]\n  },\n  mutations: {\n    FETCH_STORES (state, stores) {\n      state.stores = stores\n    }\n  },\n  actions: {\n    getShopifyStores ({state, commit}) {\n      if (state.current === undefined) {\n        Vue.axios.get(process.env.VUE_APP_API_URL + 'shopify/customer-stores')\n          .then((response) => {\n            commit('FETCH_STORES', response.data)\n          })\n          .catch(error => {\n            console.log(error.statusText)\n          })\n      } else {\n        return commit('FETCH_STORES', state.current)\n      }\n    }\n  }\n}\n\nexport default shopifyStores\n","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport Profile from './profile'\nimport Extracts from './shopify-extracts'\nimport ShopifyStores from './shopify-stores'\n\nVue.use(Vuex)\n\nconst store = new Vuex.Store({\n  state: {\n  },\n  mutations: {\n  },\n  getters: {\n  },\n  modules: {\n    profile: Profile,\n    extracts: Extracts,\n    shopifyStores: ShopifyStores\n  }\n})\n\nexport default store\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","import { UserManager, WebStorageStateStore, Log } from \"oidc-client\";\n\nconst config = {\n  authority: process.env.VUE_APP_IDS_URL,\n  client_id: \"portal.spa\",\n  redirect_uri: process.env.VUE_APP_SPA_PORTAL_URL + \"/callback.html\",\n  silent_redirect_uri: process.env.VUE_APP_SPA_PORTAL_URL + \"/silent.html\",\n  response_type: \"id_token token\",\n  scope: \"openid profile api.gateway\",\n  post_logout_redirect_uri: process.env.VUE_APP_SPA_PORTAL_URL,\n  userStore: new WebStorageStateStore({ store: window.localStorage }),\n  automaticSilentRenew: true\n};\n\nconst mgr = new UserManager(config);\n\n// mgr.events.addAccessTokenExpiring(function() {\n//   console.log(\"token expiring\");\n// });\n//\n// mgr.events.addAccessTokenExpired(function() {\n//   console.log(\"token expired\");\n//   this.manager.signoutRedirect();\n// });\n//\nmgr.events.addSilentRenewError(function(e) {\n  console.log(\"silent renew error\", e.message);\n  mgr.signinRedirect({\n    state: {\n      redirectUrl : window.location.hash\n    }\n  }).catch(function (err) {\n    console.log(err)\n  });\n});\n//\n// mgr.events.addUserLoaded(function(user) {\n//   console.log(\"user loaded\", user);\n//   mgr.getUser().then(function() {\n//     console.log(\"getUser loaded user after userLoaded event fired\");\n//   });\n// });\n//\n// mgr.events.addUserUnloaded(function(e) {\n//   console.log(\"user unloaded\");\n//   //this.manager.signinRedirect()\n//   //window.location.replace(\"/\");\n// });\n\nLog.logger = console;\n\nexport default {\n  manager: mgr,\n  getSessionState(){\n    let self = this\n    return new Promise((resolve, reject) => {\n      mgr.getUser().then(function (user) {\n        if (user == null) {\n          self.signIn()\n          return resolve(false)\n        } else{\n          return resolve(user.session_state)\n        }\n      }).catch(function (err) {\n        console.log(err)\n        return reject(err)\n      });\n    })\n  },\n  getAcessToken(){\n    let self = this\n    return new Promise((resolve, reject) => {\n      mgr.getUser().then(function (user) {\n        if (user == null) {\n          self.signIn()\n          return resolve(false)\n        } else{\n          return resolve(user.access_token)\n        }\n      }).catch(function (err) {\n        console.log(err)\n        return reject(err)\n      });\n    })\n  },\n  signIn () {\n    mgr.signinRedirect({\n      state: {\n        redirectUrl : window.location.hash\n      }\n    }).catch(function (err) {\n      console.log(err)\n    })\n  },\n  signOut () {\n    mgr.signoutRedirect().then(function (resp) {\n      console.log('signed out', resp);\n    }).catch(function (err) {\n      console.log(err)\n    })\n  }\n\n};\n"],"sourceRoot":""}